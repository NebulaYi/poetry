# 智能诗词生成系统安装说明
poetry

# 系统概述
本项目是一个智能诗词生成系统，包含模型训练、后端服务及前端界面。用户可以通过前端界面与后端服务交互，生成符合要求的诗词。

# 运行环境部署
## 模型训练
1 依赖安装
在您的Python环境中，您需要安装以下依赖库以支持模型训练：

`pip install transformers`
`pip install torch`

2 数据准备
确保您已经下载了Poetry数据集，并进行了相应的处理。处理后的数据应存放在data/train.csv。

3 训练模型
运行以下命令开始训练模型：
`python train.py --help  # 查看训练参数说明`
`python train.py [参数]  # 开始训练，如 python train.py --epochs 10`

## 后端服务
1 创建Python虚拟环境
推荐使用Python 3.9或更高版本，并创建一个虚拟环境来隔离项目依赖.

2 安装依赖
进入后端服务代码所在的poetry文件夹，并安装依赖：

`cd poetry`
`pip install -r requirements.txt`

3 启动后端服务
根据您的后端服务启动方式启动服务，使用Flask的内置服务器  
`python app.py  # 假设您的后端服务入口文件是app.py`

## 前端界面
1 安装Node.js
·确保您的系统已经安装了Node.js和npm。您可以通过在命令行输入`node -v`和`npm -v`来检查已安装的版本。
·推荐使用稳定的Node.js版本。
·确保您的系统已经安装了vue3，并且确保您安装的Node.js版本与Vue 3兼容。Vue 3通常支持较新的Node.js版本。

2 安装前端依赖
通过命令行进入前端代码所在的文件夹，使用npm安装项目所需的依赖库：
`npm install`
该命令将按照package.json文件中定义的依赖项进行安装。
package.json文件中定义的依赖项：
{
    "@element-plus/icons-vue": "^2.3.1",
    "axios": "^1.7.1",
    "core-js": "^3.8.3",
    "element-plus": "^2.7.3",
    "vue": "^3.2.13",
    "vue-router": "^4.3.2",
    "vuex": "^4.0.2"
}

3 运行前端服务
`npm run serve  # 启动开发服务器`


## 使用说明
3.1 通过命令行生成诗词
您可以直接使用命令行工具generate.py来生成诗词。
`python generate.py --length=34 --nsamples=4 --prefix=七言绝句[SEP]风和日丽`
生成示例：
======================================== SAMPLE 1 ========================================

七言绝句
风和日丽
风来水面漾清漪，和雨和烟上下迟。日暮归船归去好，丽华三月已开时。
```

3.2 通过前端界面生成诗词
启动前端服务后，在浏览器中访问指定的URL（如http://localhost:8080），即可通过前端界面与后端服务交互，生成诗词。

## 注意事项
确保您的Python环境、Node.js环境及相关的依赖库已经正确安装。
在训练模型时，可能需要调整参数以获得更好的效果。
前端界面与后端服务的交互可能需要进行跨域配置，具体配置方式取决于您的后端服务框架。
在部署到生产环境时，请确保后端服务的安全性，如使用HTTPS、设置合适的权限等。